Extraction scripts

C. DeTar
9/20/99

This directory contains some fairly idiosyncratic scripts for
systematically extracting correlators from binary output files.  The
scripts work from file lists, momentum lists and parameter definitions
to drive the extraction codes in the utilities subdirectory.

These scripts were not written in a style suitable for mass
consumption, but are provided in case you find them useful.  You will
find that they need to be modified to customize to your particular
project.

The top level scripts are 

  b_to_d.sh
  b_to_pi.sh
  b_to_pi_2pt.sh
  etc.

I normally run them at the site where the binary 2pt and 3pt
correlator files are kept.

Depending on the current version, the 3-point scripts iterate over
spectator quark masses, zonked quark masses, operator rotations, B
meson momenta, sequential quark masses, and operator vector
components.  Their output is a collection of compressed correlators
wrapped in a tar file, suitable for shipping to a home workstation for
fitting and analysis.

The 2-point scripts iterate only over zonked and spectator quark
mass assignments and operator choices.
 
Change these top-level scripts to suit your project.

These scripts call

    setup_3pt.sh
    get_3pt.sh
    setup_2pt.sh
    get_2pt.sh

----------------------------------------------------------------------    
setup_3pt.sh

The setup_3pt.sh script generates the stdin parameter files for
multiselect_3pt.x.  This parameter file contains the complete
specification of the binary correlators to be extracted for each gauge
configuration, and the name of the ASCII correlator file receiving the
extracted correlator.  The script requires the following files:

      param.<matrix element name>  

  Defines both the 3pt and associated 2pt extraction parameters for
  the specified matrix element, such as the operator index for the 3
  pt and 2 pt functions, whether the forward and backward (in time)
  correlators are to be folded or taken singly, and the rule you used
  for the name of the binary correlator file.


      in.<matrix element name>

  Script template fragment for generating parameter line(s) for a
  single correlator (or group of related correlators)

      qlist

  List of momentum transfer indices requested.


----------------------------------------------------------------------    
get_3pt.sh

  This script takes the set of parameter input files generated by
  setup_3pt.sh and performs the extraction on each of a set of binary
  correlator files, calling multiselect_3pt.x, with output going to
  the ASCII files specified by the parameter input.  It requires the
  following files:

      param.<matrix element name>

  This is the same one used for select_3pt.sh 

      *list

  (See the file name construction in get_3pt.sh.)  These files list
  the binary correlator files to be fed to multiselect_3pt.x.


----------------------------------------------------------------------    
setup_2pt.sh

  The two point scripts are designed in the same way as the three
  point.  However, the required files are

      param.<2 pt name>

  and

      klist

----------------------------------------------------------------------    
get_2pt.sh

  The required files are

      param.<2 pt name>

  and

      *list

  Listing the binary two-point correlator files.

----------------------------------------------------------------------    
So to do your extraction, you will first need to modify the param.*
files, the qlist and klist files, and the *list files to suit your
project.

Since the binary correlator file lists tend to be similary, there is
also a script update_lists.sh for generating lists from a master list.

You will also find a Makefile for running the whole project, including
extracting the binary files from mass storage, but I never got around
to using it, so can't vouch that it works.

